<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Event Request Form</title>
  <link rel="stylesheet" href="/css/style.css"> <!-- Link to your CSS -->
</head>
<body class="bg-teal2">
    <div class="form-card">
            <h2 class="text-center">Event Request Form</h2>
            <form action="/submit-event-request" method="POST" class="needs-validation" novalidate>
        <!-- Question 1 -->
        <div class="form-group">
            <label for="exp_total_attendance">Estimated Total Attendance:</label>
            <input type="number" id="exp_total_attendance" name="exp_total_attendance" class="form-control" min="1" required>
        </div>

        <!-- Question 2 -->
        <div class="form-group">
            <label>Type of Event:</label>
            <div class="radio-btn-group">
                <input type="radio" id="sewing_event" name="event_type" value="Sewing" required>
                <label for="sewing_event">Sewing</label>
        
                <input type="radio" id="nonsewing_event" name="event_type" value="Non-Sewing" required>
                <label for="nonsewing_event">Non-Sewing</label>
        
                <input type="radio" id="both_event" name="event_type" value="Both" required>
                <label for="both_event">Both</label>
            </div>
        </div>
                 

        <!-- Question 3 -->
        <div class="form-group">
            <label for="first_datetime_pref">First Date Preference:</label>
            <input type="datetime-local" id="first_datetime_pref" name="first_datetime_pref" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="sec_datetime_pref">Second Date Preference (Optional):</label>
            <input type="datetime-local" id="sec_datetime_pref" name="sec_datetime_pref" class="form-control">
        </div>
        <div class="form-group">
            <label for="third_datetime_pref">Third Date Preference (Optional):</label>
            <input type="datetime-local" id="third_datetime_pref" name="third_datetime_pref" class="form-control">
        </div>

        <!-- Question 5 -->
        <div class="form-group">
            <label for="event_duration">Event Duration (in hours):</label>
            <input 
            type="number" 
            id="event_duration" 
            name="event_duration" 
            class="form-control" 
            min="1" 
            max="12" 
            step="0.5" 
            required
            >
        </div>
  

        <!-- Question 6 -->
        <div class="form-group">
            <label for="event_street">Event's Street Address:</label>
            <input type="text" id="event_street" name="event_street" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="event_city">Event's City:</label>
            <input type="text" id="event_city" name="event_city" class="form-control" autocomplete="address-level1" required>
        </div>
        <div class="form-group">
            <label for="event_state">Event's State:</label>
            <select id="event_state" name="event_state" class="form-control" required>
                <option value="" disabled selected>Select a state</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="event_zip">Event's ZIP Code:</label>
            <input type="text" id="event_zip" name="event_zip" class="form-control" autocomplete="postal-code" required>
        </div>
        <div class="form-group">
            <label for="event_additional_info">Additional Information (Optional):</label>
            <textarea id="event_additional_info" name="event_additional_info" class="form-control"></textarea>
        </div>

        <!-- Question 7 -->
        <div class="form-group">
            <label>Want Jen to Share Her Story?</label>
            <div class="radio-btn-group">
                <input type="radio" id="jen_share_yes" name="jen_share_story" value="true" required>
                <label for="jen_share_yes">Yes</label>
        
                <input type="radio" id="jen_share_no" name="jen_share_story" value="false" required>
                <label for="jen_share_no">No</label>
            </div>
        </div>
        

        <!-- Question 8 -->
        <div class="form-group">
            <label for="exp_num_sew_machines">Number of Sewing Machines Available:</label>
            <input type="number" id="exp_num_sew_machines" name="exp_num_sew_machines" class="form-control" min="0" required>
        </div>

        <!-- Question 9 -->
        <div class="form-group">
            <label for="exp_num_serger_machines">Number of Serger Machines Available:</label>
            <input type="number" id="exp_num_serger_machines" name="exp_num_serger_machines" class="form-control" min="0" required>
        </div>

        <!-- Question 10 -->
        <div class="form-group">
            <label for="exp_under_18">Number of Attendees Under 18 Years Old:</label>
            <input type="number" id="exp_under_18" name="exp_under_18" class="form-control" min="0" required>
        </div>

        <!-- Question 11 -->
        <div class="form-group">
            <label for="exp_over_18">Number of Attendees Over 18 Years Old:</label>
            <input type="number" id="exp_over_18" name="exp_over_18" class="form-control" min="0" required>
        </div>

        <!-- Question 12 -->
        <div class="form-group">
            <label for="event_contact_first_name">Contact First Name:</label>
            <input type="text" id="event_contact_first_name" name="event_contact_first_name" class="form-control" autocomplete="given-name" required>
        </div>
        <div class="form-group">
            <label for="event_contact_last_name">Contact Last Name:</label>
            <input type="text" id="event_contact_last_name" name="event_contact_last_name" class="form-control" autocomplete="family-name" required>
        </div>

        <script>
            function toProperCase(value) {
              return value.replace(/\w\S*/g, (txt) =>
                txt.charAt(0).toUpperCase() + txt.substring(1).toLowerCase()
              );
            }
          
            document.addEventListener('DOMContentLoaded', () => {
              const firstNameInput = document.getElementById('event_contact_first_name');
              const lastNameInput = document.getElementById('event_contact_last_name');
          
              firstNameInput.addEventListener('input', () => {
                firstNameInput.value = toProperCase(firstNameInput.value);
              });
          
              lastNameInput.addEventListener('input', () => {
                lastNameInput.value = toProperCase(lastNameInput.value);
              });
            });
          </script>

        <div class="form-group">
            <label for="event_contact_phone_num">Contact Phone Number:</label>
            <input 
            type="tel" 
            id="event_contact_phone_num" 
            name="event_contact_phone_num" 
            placeholder="(123) 123-1234" 
            maxlength="14" 
            class="form-control" 
            autocomplete="tel"
            required>
        </div>
        
        <script>
            const phoneInput = document.getElementById('event_contact_phone_num');
        
            phoneInput.addEventListener('input', (e) => {
            let value = e.target.value.replace(/\D/g, ''); // Remove all non-numeric characters
            if (value.length > 10) value = value.slice(0, 10); // Limit to 10 digits
        
            // Format the input as (123) 123-1234
            if (value.length > 6) {
                value = `(${value.slice(0, 3)}) ${value.slice(3, 6)}-${value.slice(6)}`;
            } else if (value.length > 3) {
                value = `(${value.slice(0, 3)}) ${value.slice(3)}`;
            } else if (value.length > 0) {
                value = `(${value}`;
            }
        
            e.target.value = value; // Update the input field with the formatted value
            });
        </script>
        
        <div class="form-group">
            <label for="event_contact_email">Contact Email:</label>
            <input type="email" id="event_contact_email" name="event_contact_email" class="form-control" autocomplete="email" required>
            <small class="error-message" style="display: none; color: red;">Please enter a valid email address.</small>
          </div>
          

        <button type="submit" class="btn-teal">Submit Event Request</button>
        </form>
  </div>
  <script>
    const dateTimeFields = document.querySelectorAll('input[type="datetime-local"]');
    dateTimeFields.forEach(field => {
      field.addEventListener('click', () => {
        field.showPicker();
      });
    });
  </script>  
</body>
</html>